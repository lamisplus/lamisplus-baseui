(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1846:function(e,t,n){},1950:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(626),c=n(627),l=n(267),u=n(268),s=n(56),i=n(471),f=n.n(i),d=n(472),p=n(628),m=n.n(p),b=(n(1846),n(716)),h=n(278),g=n(38),y=n(478),w=n(97),E=n(353);var v=function(e){var t=e.filterText,n=e.onFilter;e.onClear;return r.a.createElement(b.a,{className:"cr-search-form",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(h.a,{type:"search",placeholder:"Search by Patient Name, Patient ID ",className:"cr-search-form__input pull-right",value:t,onChange:n}))},C=function(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null," Date Of Registration:")," ",t.dateRegistration," ")," ",r.a.createElement("br",null)," ",r.a.createElement("span",null,r.a.createElement("b",null,"Date Of Birth:")," ",t.dob," "))},O=[{name:"Patient ID",selector:"hospitalNumber",sortable:!1,Display:!0},{name:"Patient Name",selector:"name",sortable:!1,cell:function(e){return r.a.createElement("span",null,e.firstName,e.lastName)}},{name:"Test Order Date",selector:"test order",sortable:!1,cell:function(e){return r.a.createElement("span",null,e.dateEncounter," "," ",e.timeCreated)}},{name:"Total Test Order",selector:"test order",sortable:!1,cell:function(e){return r.a.createElement("span",null,function(e){function t(){return(t=Object(d.a)(f.a.mark(function t(){var n,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(E.b+"encounters/".concat(e,"/form-data"));case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",console.log(a.length));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}(e.encounterId))}},{name:"Sample Collected",selector:"test order",sortable:!1,cell:function(e){return r.a.createElement("span",null,0)}},{name:"Action",cell:function(e){return r.a.createElement("div",null,r.a.createElement(g.b,{to:{pathname:"/collect-sample",state:{getpatientlists:{row:e}}}},"Collect Sample  "," "))},ignoreRowClick:!0,allowOverflow:!0,button:!0,grow:2}],N={headCells:{style:{color:"#202124",fontSize:"14px",fontWeight:"bold"}}},S={fetchAllLabTestOrderToday:y.b},T=Object(w.b)(function(e){return{patientsTestOrderList:e.laboratory.list}},S)(function(e){var t=r.a.useState(""),n=Object(s.a)(t,2),o=n[0],c=n[1],u=r.a.useState(!1),i=Object(s.a)(u,2),f=i[0],d=i[1],p=e.patientsTestOrderList.filter(function(e){return e.firstName&&e.firstName.toLowerCase().includes(o.toLowerCase())||e.lastName&&e.lastName.toLowerCase().includes(o.toLowerCase())||e.hospitalNumber&&e.hospitalNumber.toLowerCase().includes(o.toLowerCase())});Object(a.useEffect)(function(){e.fetchAllLabTestOrderToday()},[]);var b=r.a.useMemo(function(){return r.a.createElement(v,{onFilter:function(e){return c(e.target.value)},onClear:function(){o&&(d(!f),c(""))},filterText:o})},[o,f]);return r.a.createElement("div",{className:"searchTable"},r.a.createElement(l.a,null,r.a.createElement("cardContent",null,r.a.createElement(m.a,{columns:O,data:p,customStyles:N,pagination:!0,paginationResetDefaultPage:f,subHeader:!0,subHeaderComponent:b,highlightOnHover:!0,striped:!0,subHeaderAlign:"left",fixedHeader:!0,expandableRows:!0,persistTableHead:!0,expandableRowsComponent:r.a.createElement(C,null)}))))});function x(e){return r.a.createElement(o.a,null,r.a.createElement(c.a,{xl:12,lg:12,md:12},r.a.createElement(l.a,null,r.a.createElement(u.a,null,r.a.createElement(T,null)))))}n.d(t,"default",function(){return x})},353:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a="http://lamisplus.org/base-module/api/",r="87cb9bc7-ea0d-4c83-a70d-b57a5fb7769e"},478:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return f}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p});var a=n(430),r=n.n(a),o=n(353),c=n(12),l=n(380),u=function(){return function(e){r.a.get("".concat(o.b,"encounters/").concat(o.a,"/{dateStart}/{dateEnd}")).then(function(t){e({type:c.H,payload:t.data}),console.log(t.data)}).catch(function(t){return e({type:c.r,payload:"Something went wrong, please try again"})})}},s=function(e){return function(t){r.a.get("".concat(o.b,"encounters/").concat(e,"/form-data")).then(function(e){t({type:c.J,payload:e.data})}).catch(function(e){return t({type:c.t,payload:e})})}},i=function(e,t){return function(n){r.a.put("".concat(o.b,"form-data/").concat(t),e).then(function(e){n({type:c.i,payload:e.data}),l.b.success("Sample Collection was successful"),setInterval(window.location.reload(!1),8e4)}).catch(function(e){n({type:c.p,payload:e}),console.log(e),l.b.error("Something went wrong, please try again"),setInterval(window.location.reload(!1),8e4)})}},f=function(e){return function(t){r.a.get("".concat(o.b,"form-data/").concat(e)).then(function(e){t({type:c.z,payload:e.data})}).catch(function(e){t({type:c.q,payload:e}),console.log(e)})}},d=function(e,t){return function(n){r.a.get("".concat(o.b,"lab-test-groups/")).then(function(t){n({type:c.w,payload:t.data}),e()}).catch(function(e){n({type:c.G,payload:"Something went wrong, please try again"}),t(e.response)})}},p=function(e,t,n){return function(a){r.a.get("".concat(o.b,"lab-test-groups/").concat(e,"/lab-tests")).then(function(e){a({type:c.v,payload:e.data}),t()}).catch(function(e){a({type:c.G,payload:"Something went wrong, please try again"}),n(e.response)})}}}}]);
//# sourceMappingURL=41.fcb740b7.chunk.js.map