(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1664:function(e,t,n){},1732:function(e,t,n){"use strict";var a=n(56),r=n(448),o=n.n(r),c=n(449),l=n(1),u=n.n(l),s=n(554),i=n.n(s),f=(n(1664),n(696)),d=n(278),p=n(267),m=n(39),b=n(521),h=n(96),g=n(355);var y=function(e){var t=e.filterText,n=e.onFilter;e.onClear;return u.a.createElement(f.a,{className:"cr-search-form",onSubmit:function(e){return e.preventDefault()}},u.a.createElement(d.a,{type:"search",placeholder:"Search by Patient Name, Patient ID ",className:"cr-search-form__input pull-right",value:t,onChange:n}))},w=function(e){var t=e.data;return u.a.createElement("div",null,u.a.createElement("span",null,u.a.createElement("b",null," Date Of Registration:")," ",t.dateRegistration," ")," ",u.a.createElement("br",null)," ",u.a.createElement("span",null,u.a.createElement("b",null,"Date Of Birth:")," ",t.dob," "))},E=[{name:"Patient ID",selector:"hospitalNumber",sortable:!1,Display:!0},{name:"Patient Name",selector:"name",sortable:!1,cell:function(e){return u.a.createElement("span",null,e.firstName,e.lastName)}},{name:"Test Order Date",selector:"test order",sortable:!1,cell:function(e){return u.a.createElement("span",null,e.dateEncounter," "," ",e.timeCreated)}},{name:"Total Test Order",selector:"test order",sortable:!1,cell:function(e){return u.a.createElement("span",null,function(e){function t(){return(t=Object(c.a)(o.a.mark(function t(){var n,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(g.b+"encounters/".concat(e,"/form-data"));case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",console.log(a.length));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}(e.encounterId))}},{name:"Sample Collected",selector:"test order",sortable:!1,cell:function(e){return u.a.createElement("span",null,0)}},{name:"Action",cell:function(e){return u.a.createElement("div",null,u.a.createElement(m.b,{to:{pathname:"/collect-sample",state:{getpatientlists:{row:e}}}},"Collect Sample  "," "))},ignoreRowClick:!0,allowOverflow:!0,button:!0,grow:2}],v={headCells:{style:{color:"#202124",fontSize:"14px",fontWeight:"bold"}}},C={fetchAllLabTestOrderToday:b.b};t.a=Object(h.b)(function(e){return{patientsTestOrderList:e.laboratory.list}},C)(function(e){var t=u.a.useState(""),n=Object(a.a)(t,2),r=n[0],o=n[1],c=u.a.useState(!1),s=Object(a.a)(c,2),f=s[0],d=s[1],m=e.patientsTestOrderList.filter(function(e){return e.firstName&&e.firstName.toLowerCase().includes(r.toLowerCase())||e.lastName&&e.lastName.toLowerCase().includes(r.toLowerCase())||e.hospitalNumber&&e.hospitalNumber.toLowerCase().includes(r.toLowerCase())});Object(l.useEffect)(function(){e.fetchAllLabTestOrderToday()},[]);var b=u.a.useMemo(function(){return u.a.createElement(y,{onFilter:function(e){return o(e.target.value)},onClear:function(){r&&(d(!f),o(""))},filterText:r})},[r,f]);return u.a.createElement("div",{className:"searchTable"},u.a.createElement(p.a,null,u.a.createElement("cardContent",null,u.a.createElement(i.a,{columns:E,data:m,customStyles:v,pagination:!0,paginationResetDefaultPage:f,subHeader:!0,subHeaderComponent:b,highlightOnHover:!0,striped:!0,subHeaderAlign:"left",fixedHeader:!0,expandableRows:!0,persistTableHead:!0,expandableRowsComponent:u.a.createElement(w,null)}))))})},1925:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var a=n(1),r=n.n(a),o=n(594),c=n(595),l=n(267),u=n(268),s=n(1732);function i(e){return r.a.createElement(o.a,null,r.a.createElement(c.a,{xl:12,lg:12,md:12},r.a.createElement(l.a,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null)))))}},355:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a="http://lamisplus.org/base-module/api/",r="87cb9bc7-ea0d-4c83-a70d-b57a5fb7769e"},521:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return f}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p});var a=n(433),r=n.n(a),o=n(355),c=n(12),l=n(426),u=function(){return function(e){r.a.get("".concat(o.b,"encounters/").concat(o.a,"/{dateStart}/{dateEnd}")).then(function(t){e({type:c.G,payload:t.data}),console.log(t.data)}).catch(function(t){return e({type:c.r,payload:"Something went wrong, please try again"})})}},s=function(e){return function(t){r.a.get("".concat(o.b,"encounters/").concat(e,"/form-data")).then(function(e){t({type:c.I,payload:e.data})}).catch(function(e){return t({type:c.t,payload:e})})}},i=function(e,t){return function(n){r.a.put("".concat(o.b,"form-data/").concat(t),e).then(function(e){n({type:c.i,payload:e.data}),l.b.success("Sample Collection was successful"),setInterval(window.location.reload(!1),8e4)}).catch(function(e){n({type:c.p,payload:e}),console.log(e),l.b.error("Something went wrong, please try again"),setInterval(window.location.reload(!1),8e4)})}},f=function(e){return function(t){r.a.get("".concat(o.b,"form-data/").concat(e)).then(function(e){t({type:c.y,payload:e.data})}).catch(function(e){t({type:c.q,payload:e}),console.log(e)})}},d=function(e,t){return function(n){r.a.get("".concat(o.b,"lab-test-groups/")).then(function(t){n({type:c.w,payload:t.data}),e()}).catch(function(e){n({type:c.F,payload:"Something went wrong, please try again"}),t(e.response)})}},p=function(e,t,n){return function(a){r.a.get("".concat(o.b,"lab-test-groups/").concat(e,"/lab-tests")).then(function(e){a({type:c.v,payload:e.data}),t()}).catch(function(e){a({type:c.F,payload:"Something went wrong, please try again"}),n(e.response)})}}}}]);
//# sourceMappingURL=38.b443c886.chunk.js.map